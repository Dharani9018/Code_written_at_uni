<html>
    <head>
        <title>Async await</title>
    </head>
    <body>
        <script>
            /*
            async function greet()
            {
                return "Hello";
            }

            greet().then(function (msg)
            {
                //console.log(msg);
                document.write(msg);
            });
            //await
            function fetchData(){
                return new Promise((resolve) => { //here resolve is a callback function
                    // Simulate a network request with a delay.
                    setTimeout(() => {
                        resolve("Data received");
                    }, 3000);
                });
            }
            async function getData()
            {
                console.log("Fetching data...");
                // Wait until the promise resolves 
                const result = await fetchData(); //fetchData() returns a promise
                console.log(result); // Log the resolved value
            }
            */
           //fetching data using try catch
           /*
           async function fetchUser(userid)
           {
            try{
                const response = await fetch(`https://jsonplaceholder.typicode.com/users/${userid}`);
                const user = await response.json();
                console.log(user);   
            }
            catch(error){
                console.log("Error fetching user data: ", error);
            }
           }
              fetchUser(11);
            */
           //Promise.all
           async function fetchMultiple()
           {
         
            try{
                const [user,posts] = await Promise.all([
                    fetch('https://jsonplaceholder.typicode.com/users/11').then(res => res.json()),
                    fetch('https://jsonplaceholder.typicode.com/posts/1').then(res => res.json())
                ]);
                console.log("User: ", user);
                console.log("Posts: ", posts);
            }
            catch(error){
                console.log(error);
            }
           }
fetchMultiple();
        </script>
    </body>
</html>